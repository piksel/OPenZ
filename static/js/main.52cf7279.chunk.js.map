{"version":3,"sources":["contexts/MidiContext.tsx","components/common.ts","components/Button.tsx","components/Select.ts","components/Flex.ts","themes/default-dark.ts","models/controlLabels.ts","controls/NumberBox.tsx","controls/Wheels.tsx","controls/Keyboard.tsx","models/midiConstants.ts","App.tsx","serviceWorker.js","index.js"],"names":["React","createContext","webmidi","init","initialized","inputs","Provider","MidiProvider","Consumer","displayName","colorFromProps","props","green","theme","colors","blue","yellow","red","secondary","withCommon","cb","propColor","Button","styled","button","primary","css","Select","select","p","background","Flex","div","row","col","fill","DefaultDarkTheme","borderRadius","main","instPage","adsrPage","lfoPage","fxPage","rhythmParams","melodyParams","arpegParams","fxParams","controlLabels","group","params","NumberBox","value","label","color","style","textAlign","fontSize","fontWeight","lineHeight","marginTop","width","alignItems","justifyContent","height","Wheels","wheels","display","flexDirection","channel","map","index","page","key","WheelBackground","pageColors","Wheel","hasValue","fmtValue","Math","ceil","toFixed","rotation","padding","border","opacity","transform","marginRight","marginLeft","toString","padStart","MidiBeatMessageType","NoteKey","black","pressed","noteColor","noteNames","Keyboard","notes","onKeyClicked","position","instrument","octIndex","octave","noteName","includes","keyOn","keyOff","onMouseDown","onMouseUp","onMouseLeave","onMouseEnter","e","buttons","fmtBytes","bytes","Array","from","b","join","HeadLeft","HeadRight","AppRoot","AppHeader","AppMain","App","useState","input","setInput","output","setOutput","setChannel","_","setNotes","setWheels","bpm","playing","tempo","setTempo","lastBeat","pulses","setClock","updateNote","note","shiftNote","number","ps","v","i","useEffect","console","log","enable","error","addListener","event","setMidi","m","window","opz","logEvent","type","data","undefined","control","wheelNumber","floor","pw","updateWheel","controller","messageType","timestamp","Clock","c","t","round","Stop","opzo","midi","length","outputs","channelNames","disabled","onClick","id","onChange","find","target","name","down","playNote","velocity","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.52cf7279.chunk.js","sourcesContent":["import React from \"react\";\nimport webmidi, {Input, WebMidi} from \"webmidi\";\n\n\nexport interface IMidiContext {\n  webmidi: WebMidi;\n  init(): void;\n  error?: Error;\n  initialized: boolean;\n  inputs: Input[];\n}\n\nconst {Provider, Consumer, displayName} = React.createContext<IMidiContext>({\n  webmidi,\n  init(){},\n  initialized: false,\n  inputs: [],\n});\n\nexport const [ MidiProvider, MidiConsumer, MidiName ] = [ Provider, Consumer, displayName ];","import {DefaultTheme, FlattenSimpleInterpolation, ThemeProps} from \"styled-components/macro\";\n\nexport interface CommonProps {\n  primary?: boolean;\n  red?: boolean;\n  green?: boolean;\n  blue?: boolean;\n  yellow?: boolean;\n}\n\ntype PropsArg = CommonProps & ThemeProps<DefaultTheme>;\ntype PropsArgWithCommon = PropsArg & { propColor: string };\n\nexport const colorFromProps = (props: PropsArg) =>\n  props.green ? props.theme.colors.green :\n    props.blue ? props.theme.colors.blue :\n      props.yellow ? props.theme.colors.yellow :\n        props.red ? props.theme.colors.red :\n          props.theme.colors.secondary;\n\ntype PropsFun<T = PropsArg> = (props: T) => FlattenSimpleInterpolation;\n\nexport const withCommon = (cb: PropsFun<PropsArgWithCommon>) =>\n  (props: CommonProps & ThemeProps<DefaultTheme>) =>\n    cb({...props, propColor: colorFromProps(props)})","import styled, {css} from 'styled-components/macro'\nimport {colorFromProps, CommonProps, withCommon} from \"./common\";\n\n\nexport const Button = styled.button<CommonProps>`\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid transparent;\n  margin: 0.5em 1em;\n  padding: 0.25em 1em;\n\n  ${withCommon(props => props.primary ? css`\n    background: ${colorFromProps(props)};\n    color: white;\n  ` : css`\n    color: ${colorFromProps(props)};\n    border-color: ${colorFromProps(props)};\n  `)}\n`","import styled, {css} from \"styled-components/macro\";\nimport {colorFromProps, CommonProps, withCommon} from \"./common\";\n\n\nexport const Select = styled.select<CommonProps>`\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid transparent;\n  margin: 0.5em 1em;\n  padding: 0.25em 1em;\n\n  ${withCommon(props => props.primary ? css`\n    background: ${colorFromProps(props)};\n    color: white;\n  ` : css`\n    color: ${colorFromProps(props)};\n    border-color: ${colorFromProps(props)};\n  `)}\n  \n  option {\n    background: ${p => p.theme.colors.background};\n    padding: .4rem .1rem;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Flex = styled.div<{ row?: boolean, col?: boolean, fill?: boolean }>`\n  display: flex;\n  flex-direction: ${p => p.row ? 'row' : p.col ? 'column' : 'inherit'};\n  flex: ${p => p.fill ? '1' : 'none'};\n`;","import {DefaultTheme} from 'styled-components/macro'\n\nexport const DefaultDarkTheme: DefaultTheme = {\n  borderRadius: '5px',\n\n  colors: {\n    main: '#f5b900',\n    secondary: '#f0f0f0',\n\n    green: '#1c6406',\n    blue: '#0062f5',\n    yellow: '#f5b900',\n    red: '#ab0b0b',\n\n    background: '#707070'\n  },\n}","/*\nkick / snare / hihat / perc\n\n   green blue yellow red\nw  pitch  revers filter resonance\ng  attack decay  sustn  release\np  lfoAmt lfoSpd lfoTgt lfoShp\ny  fx1Snd fx2Snd pan    level\n */\n\n/*\nparam 1 param 2 filter resonance\nattack decay sustain release\nlfoamount lfospeed lfotarget lfoshape\nfx1send fx2send pan level\n */\n\ninterface ControlLabel {\n  group: string;\n  params: string[][];\n}\n\nconst instPage = ['Param 1', 'Param 2', 'Filter', 'Resonance'];\nconst percPage = ['Pitch', 'Reverse', 'Filter', 'Resonance'];\nconst adsrPage = ['Attack', 'Decay', 'Sustain', 'Release'];\nconst lfoPage = ['LFO Amount', 'LFO Speed', 'LFO Target', 'LFO Shape'];\nconst fxPage = ['FX1 Send', 'FX2 Send', 'Pan', 'Level'];\nconst arpPage = ['Arp. Speed', 'Arp. Pattern', 'Arp. Style', 'Arp. Range'];\n\n\nconst rhythmParams = [percPage, adsrPage, lfoPage, fxPage];\n\nconst melodyParams = [instPage, adsrPage, lfoPage, fxPage];\n\nconst arpegParams = [instPage, adsrPage, arpPage, fxPage];\n\nconst fxParams = [instPage, lfoPage];\n\nexport const controlLabels: { [key: number]: ControlLabel } = {\n  [0]: {group: '', params: [['---', '---', '---', '---']]},\n  [0x01]: {group: 'KCK', params: rhythmParams},\n  [0x02]: {group: 'SNR', params: rhythmParams},\n  [0x03]: {group: 'HIH', params: rhythmParams},\n  [0x04]: {group: 'PCS', params: rhythmParams},\n  [0x05]: {group: 'BAS', params: melodyParams},\n  [0x06]: {group: 'LEA', params: melodyParams},\n  [0x07]: {group: 'ARP', params: arpegParams},\n  [0x08]: {group: 'CHO', params: melodyParams},\n  [0x09]: {group: 'FX1', params: fxParams},\n  [0x0a]: {group: 'FX2', params: fxParams},\n}","import {Flex} from \"../components/Flex\";\nimport React from \"react\";\n\nexport const NumberBox = (props: { value: number | string, label: string, color?: string }) => {\n  const {value, label, color} = props;\n  return (\n    <Flex col style={{}}>\n      <div style={{\n        textAlign: 'right', fontSize: '4rem', fontWeight: 300,\n        lineHeight: '4rem',\n        marginTop: '-.5rem',\n        width: '8rem',\n      }}>{value}</div>\n      <Flex row style={{\n        alignItems: 'center',\n        justifyContent: 'space-between',\n      }}>\n        <div style={{\n          width: '1.2rem',\n          height: '1.2rem',\n          borderRadius: '50%',\n          background: color ?? 'transparent'\n        }}/>\n        <div style={{textAlign: 'right', fontSize: '1.2rem'}}>{label}</div>\n\n      </Flex>\n    </Flex>\n  )\n}","import styled, {css} from \"styled-components/macro\";\nimport {CommonProps, withCommon} from \"../components/common\";\nimport {controlLabels} from \"../models/controlLabels\";\nimport React from \"react\";\nimport {NumberBox} from \"./NumberBox\";\n\nexport const Wheels = (props: { wheels: { value?: number, channel: number, page: number }[] }) => {\n  const {wheels} = props;\n\n  return (<div style={{display: 'flex', flexDirection: 'row', justifyContent: 'center'}}>\n    <div style={{\n      fontSize: '4rem',\n      width: '10rem',\n      textAlign: 'center',\n      fontWeight: 300,\n    }}>{controlLabels[wheels[0].channel]?.group}</div>\n    {wheels.map(({value, channel, page}, index) =>\n\n      <Wheel key={index} index={index} value={value} channel={channel} page={page}/>\n    )}\n  </div>)\n}\n\nconst WheelBackground = styled.div<CommonProps>`\n  border-radius: 50%;\n  color: black;\n  ${withCommon(p => css`\n    background-color: ${p.propColor}\n  `)}\n`;\n\nconst pageColors = [\n  '#ffffff',\n  '#1fc400',\n  '#6300c1',\n  '#e99500',\n]\n\nconst Wheel = (props: { index: number, value?: number, channel: number, page: number }) => {\n  const {index, value, channel, page} = props;\n\n  const {params} = controlLabels[channel] || {params: [[]]}\n\n  const hasValue = typeof value === 'number';\n  const fmtValue = hasValue ? Math.ceil((value ?? 0) / 1.28).toFixed(0) : 'XX';\n  const rotation = -135 + ((value ?? 64) * 2.109375);\n\n  return (<div style={{\n    display: 'flex',\n    flexDirection: 'row',\n    padding: '0 1rem',\n    border: '1px #ff00ff00 dashed',\n    opacity: hasValue ? 1 : .5\n  }}>\n    <WheelBackground\n      style={{transform: `rotateZ(${rotation}deg)`, width: '5rem', height: '5rem', marginRight: '.5rem'}}\n      green={index === 0}\n      blue={index === 1} yellow={index === 2}\n      red={index === 3}>\n      <div style={{marginLeft: 'auto', marginRight: 'auto', background: 'black', width: '2px', height: '50%'}}/>\n    </WheelBackground>\n    <NumberBox value={`${fmtValue}%`}\n               color={pageColors[page]}\n               label={params[page]?.[index] || `🤷‍ 0x${channel.toString(16).padStart(2, '0')} ${index.toString(16).padStart(2, '0')}`}/>\n  </div>)\n}","import styled, {css} from \"styled-components/macro\";\nimport {NoteSet} from \"../models\";\nimport React from \"react\";\n\nconst NoteKey = styled.div<{ pressed: boolean, black: boolean, noteColor: number }>`\n  user-select: none;\n  vertical-align: bottom;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  border-radius: .5rem;\n  border-top: .1rem solid black;\n  font-size: 1.4rem;\n  font-weight: 300;\n  padding-bottom: .5rem;\n  //box-shadow: 0 0 5px #00000080;\n  pointer-events: all;\n  ${p => p.black ? css`\n      background-color: ${p.pressed ? `hsl(${p.noteColor}, 90%, 30%)` : 'black'};\n      color: white;\n      height: 6rem;\n      margin: 0 -2.38095238095238%;\n      //position: absolute;\n      width: 2rem;\n      z-index: 2;\n      flex: 2;\n      \n  ` : css`\n      background-color: ${p.pressed ? `hsl(${p.noteColor}, 90%, 70%)` : 'white'};\n      color: black;\n      height: 10rem;\n      flex: 3;\n      width: 3rem;\n      border-right: .1rem solid black;\n  `}\n  ${p => p.pressed && css`box-shadow: 0 0 .1rem #ff518c`}\n`\n\nconst noteNames = [\n  'F',\n  'F#',\n  'G',\n  'G#',\n  'A',\n  'A#',\n  'B',\n  'C',\n  'C#',\n  'D',\n  'D#',\n  'E',\n]\n\nexport const Keyboard = (props: { notes: NoteSet, onKeyClicked: (key: string, octave: number, down: boolean) => void }) => {\n  const {notes, onKeyClicked} = props;\n\n  return (<div style={{display: 'flex', flexDirection: 'row', position: 'relative'}}>\n    {notes.map(({pressed, instrument}, index) => {\n        const octIndex = index % 12;\n        const octave = index > 18 ? 5 : index > 6 ? 4 : 3;\n        const noteName = noteNames[octIndex];\n        const black = [1, 3, 5, 8, 10].includes(octIndex);\n        const keyOn = () => onKeyClicked(noteName, octave, true);\n        const keyOff = () => onKeyClicked(noteName, octave, false);\n\n        return <NoteKey pressed={pressed} black={black} onMouseDown={keyOn} onMouseUp={keyOff} onMouseLeave={keyOff}\n                        noteColor={instrument * 45}\n                        onMouseEnter={e => e.buttons === 1 && keyOn()}\n                        key={index}>{noteName}</NoteKey>\n      }\n    )}\n\n  </div>)\n}","export enum MidiBeatMessageType {\n  Clock = 248,\n  Start = 250,\n  Continue = 251,\n  Stop = 252,\n}","import React, {useEffect, useState} from 'react';\nimport './App.css';\nimport {IMidiContext, MidiProvider} from './contexts/MidiContext';\nimport webmidi, {IEventController, IEventNote, Input, InputEvents, Output} from \"webmidi\";\nimport {Button, Flex, Select} from \"./components\";\nimport styled, {ThemeProvider} from \"styled-components/macro\";\nimport {DefaultDarkTheme} from \"./themes\";\nimport {NoteSet} from \"./models\";\nimport {Keyboard, NumberBox, Wheels} from \"./controls\";\nimport {MidiBeatMessageType} from \"./models/midiConstants\";\n\nconst fmtBytes = (bytes: Uint8Array) => Array.from(bytes).map(b => b.toString(16).padStart(2, '0')).join(' ');\n\n\nconst App = () => {\n  const [input, setInput] = useState<Input | null>();\n  const [output, setOutput] = useState<Output | null>();\n\n  const [channel, setChannel] = useState<number>(0);\n\n  const [notes, setNotes] = useState<NoteSet>(Array.from(new Array(24), _ => ({pressed: false, instrument: 0})));\n\n  const [wheels, setWheels] = useState<{ value?: number, channel: number, page: number }[]>(Array.from(new Array(4), _ => ({\n    channel: 0,\n    page: 0\n  })))\n\n  const [tempo, setTempo] = useState({bpm: 0, playing: false});\n  const [, setClock] = useState({lastBeat: 0, pulses: 0});\n\n  const updateNote = (note: IEventNote, channel: number, pressed: boolean) => {\n    const modNote = (note.number - 5) % 24;\n    const shiftNote = modNote;\n    //setNoteOffset(note.number - shiftNote);\n\n    setChannel(channel);\n    setNotes(ps => {\n      return ps.map((v, i) => i === shiftNote ? {\n        pressed,\n        instrument: channel,\n      } : v);\n    });\n    if (pressed) {\n      // console.log(`Key ${note.name}${note.octave} ${state ? 'pressed' : 'released'} on channel ${channel}, raw: ${note.number}`)\n    }\n  }\n\n  const updateWheel = (control: IEventController, channel: number, value: number) => {\n    const wheelNumber = (control.number - 1) % 4;\n    const page = Math.floor((control.number - wheelNumber) / 4);\n    // console.log(`Wheel update for channel: ${channel}, page: ${page} (${(control.number - wheelNumber)}), wheel: ${wheelNumber}, new value: ${value}`);\n    setWheels(pw => pw.map((v, i) => i === wheelNumber ? {value, channel, page} : {\n      page,\n      channel,\n      value: v.page === page && v.channel === channel ? v.value : undefined\n    }));\n  }\n\n  const updateClock = (messageType: MidiBeatMessageType, timestamp: number) => {\n\n    if (messageType === MidiBeatMessageType.Clock) {\n\n      //bpm: Math.round((timestamp - c.lastBeat) * .12),\n\n      // 1200 = 100bpm\n      //  600 = 200bpm\n\n      setClock(c => {\n        if (c.pulses == 47) {\n          setTempo(t => ({...t, bpm: Math.round(120000 / (timestamp - c.lastBeat))}))\n          return {\n            lastBeat: timestamp,\n            pulses: 0,\n          };\n        } else return {\n          lastBeat: c.lastBeat || timestamp,\n          pulses: c.pulses + 1,\n        }\n      })\n    } else {\n      setTempo(t => ({...t, playing: messageType !== MidiBeatMessageType.Stop}));\n    }\n\n\n  }\n\n  useEffect(() => {\n    console.log('init!')\n    webmidi.enable(error => {\n      if (!error) {\n        webmidi.addListener('connected', event => {\n          console.log('Connected!', event);\n        });\n        webmidi.addListener('disconnected', event => {\n          console.log('Disconnected!', event);\n        });\n\n      }\n      setMidi(m => ({...m, error, initialized: !error, inputs: webmidi.inputs}));\n    });\n  }, []);\n\n  useEffect(() => {\n    (window as any).opz = input;\n    const logEvent = (e: InputEvents[keyof InputEvents]) => {\n      console.log(e.type, fmtBytes(e.data));\n    }\n    input?.addListener(\"controlchange\", undefined, (e) => updateWheel(e.controller, e.channel, e.value));\n    input?.addListener(\"noteon\", undefined, (e) => updateNote(e.note, e.channel, true));\n    input?.addListener(\"noteoff\", undefined, (e) => updateNote(e.note, e.channel, false));\n    input?.addListener(\"clock\", undefined, e => updateClock(e.data[0], e.timestamp));\n    input?.addListener(\"channelmode\", undefined, logEvent);\n    input?.addListener(\"activesensing\", undefined, logEvent);\n    input?.addListener(\"songposition\", undefined, logEvent);\n    input?.addListener(\"sysex\", undefined, logEvent);\n    input?.addListener(\"unknownsystemmessage\", undefined, logEvent);\n    input?.addListener(\"tuningrequest\", undefined, logEvent);\n    input?.addListener(\"programchange\", undefined, logEvent);\n    input?.addListener(\"reset\", undefined, logEvent);\n    input?.addListener(\"start\", undefined, logEvent);\n    input?.addListener(\"stop\", undefined, logEvent);\n\n    //input?.addListener(\"midimessage\", undefined, logEvent);\n  }, [input]);\n\n  useEffect(() => {\n    (window as any).opzo = output;\n    const logEvent = (e: InputEvents[keyof InputEvents]) => {\n      console.log(e.type, fmtBytes(e.data));\n    }\n\n    //output?.sendControlChange(102, 1, 0);\n\n    //input?.addListener(\"midimessage\", undefined, logEvent);\n  }, [output]);\n\n  const [midi, setMidi] = useState<IMidiContext>({\n    webmidi,\n    init() {\n\n    },\n    initialized: false,\n    inputs: [],\n  });\n\n  useEffect(() => {\n    if (!input && midi.inputs.length > 0) {\n      setInput(midi.inputs[0]);\n    }\n    if (!output && midi.webmidi.outputs.length > 0) {\n      setOutput(midi.webmidi.outputs[0]);\n    }\n\n  }, [midi, input, output]);\n\n  const keyClicked = (key: string, octave: number, down: boolean) => {\n\n    //console.log(`Playing ${key}${octave} on channel ${channel || 1}`);\n\n\n    output?.playNote(`${key}${octave}`, channel || 1, {\n      velocity: down ? .5 : 0,\n    });\n  }\n\n  const channelNames = [\n    'None',\n    'Kick',\n    'Snare',\n    'Hihat',\n    'Percussion',\n    'Bass',\n    'Lead',\n    'Arp',\n    'Chord',\n    'Fx 1',\n    'Fx 2',\n  ]\n\n  return (\n    <ThemeProvider theme={DefaultDarkTheme}>\n      <MidiProvider value={midi}>\n        <AppRoot>\n          <AppHeader>\n            <HeadLeft>\n              MIDI\n              <Button primary blue disabled={midi.initialized}\n                      onClick={() => midi.init()}>{midi.initialized ? 'Enabled!' : 'Enable'}</Button>\n              <pre>{midi?.error ?? ''}</pre>\n              <label>\n                Input:\n                <Select value={input?.id} onChange={(e) => setInput(midi.inputs.find(i => i.id == e.target.value))}>\n                  <option value={''}>{midi.inputs.length > 0 ? 'Select a midi input' : 'No inputs detected'}</option>\n                  {midi.inputs.map(input => <option key={input.id} value={input.id}>{input.name}</option>)}\n                </Select>\n              </label>\n              <label>\n                Output:\n                <Select value={output?.id}\n                        onChange={(e) => setOutput(webmidi.outputs.find(({id}) => id == e.target.value))}>\n                  <option\n                    value={''}>{webmidi.outputs.length > 0 ? 'Select a midi output' : 'No outputs detected'}</option>\n                  {midi.webmidi.outputs.map(({id, name}) => <option key={id} value={id}>{name}</option>)}\n                </Select>\n              </label>\n            </HeadLeft>\n            <HeadRight>\n              <></>\n            </HeadRight>\n          </AppHeader>\n          <AppMain>\n\n            <Flex row style={{padding: '2rem'}}>\n              <Wheels wheels={wheels}/>\n              <NumberBox value={tempo.bpm.toFixed(0)} label='BPM'/>\n            </Flex>\n            <div style={{padding: '2rem'}}>\n              Instrument: {channelNames.length > channel ? channelNames[channel] : `Unknown (${channel})`}\n\n              <Keyboard notes={notes} onKeyClicked={keyClicked}/>\n            </div>\n          </AppMain>\n        </AppRoot>\n      </MidiProvider>\n    </ThemeProvider>\n  );\n}\n\nconst MidiInput = (props: Input) => {\n  const {connection, id, name} = props;\n  return (<>\n    {name} ({id}): {connection}\n\n  </>)\n}\n\nconst HeadLeft = styled.div`\ndisplay: flex;\npadding: 0 .5rem;\nalign-items: center;\nflex-direction: row;`;\n\nconst HeadRight = HeadLeft;\n\nconst AppRoot = styled.div`\nbackground: ${p => p.theme.colors.background};\ndisplay: flex;\nflex-direction: column;\n\njustify-content: center;\ncolor: white;\nmin-height: 100vh;\n`;\n\nconst AppHeader = styled.div`\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\njustify-content: space-between;\n\n`;\n\nconst AppMain = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: flex-start;\nflex: 1;\n`;\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}